<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serveo - Book Your Service</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #FF6A00;
            --primary-light: rgba(255, 106, 0, 0.1);
            --primary-glow: rgba(255, 106, 0, 0.5);
            --white: #FFFFFF;
            --dark: #1C1C1C;
            --darker: #0D0D0D;
            --light: #F5F5F5;
            --medium: #444;
            --success: #00A650;
            --warning: #FFC107;
            --mpesa: #00A650;
            --visa: #1A1F71;
            --mastercard: #EB001B;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: var(--darker);
            color: var(--white);
            line-height: 1.6;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Navigation */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            position: sticky;
            top: 0;
            background-color: var(--darker);
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            color: var(--white);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .auth-buttons {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }

        .btn-outline {
            background: transparent;
            color: var(--white);
            border: 1px solid var(--white);
        }

        .btn-primary {
            background: var(--primary);
            color: var(--white);
            box-shadow: 0 0 15px var(--primary-glow);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 20px var(--primary-glow);
        }

        /* Booking Header */
        .booking-header {
            padding: 40px 0 20px;
            text-align: center;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        /* Booking Container */
        .booking-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            padding: 40px 0;
        }

        /* Booking Form */
        .booking-form {
            background: var(--dark);
            border-radius: 15px;
            padding: 30px;
        }

        .form-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--medium);
        }

        .form-section h3 {
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            background: var(--darker);
            border: 1px solid var(--medium);
            border-radius: 8px;
            color: var(--white);
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px var(--primary-light);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        textarea.form-control {
            resize: vertical;
            min-height: 100px;
        }

        /* Booking Summary */
        .booking-summary {
            background: var(--dark);
            border-radius: 15px;
            padding: 30px;
            position: sticky;
            top: 100px;
            height: fit-content;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--medium);
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            font-weight: 700;
            font-size: 1.2rem;
            margin: 20px 0;
            padding-top: 15px;
            border-top: 1px solid var(--medium);
        }

        .worker-preview {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--medium);
        }

        .worker-preview-img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary);
        }

        /* Payment Section */
        .payment-section {
            background: var(--dark);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
        }

        .payment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .payment-option {
            background: var(--darker);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .payment-option:hover {
            transform: translateY(-5px);
        }

        .payment-option.selected {
            border-color: var(--primary);
            box-shadow: 0 0 20px var(--primary-glow);
        }

        .payment-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .mpesa-icon {
            color: var(--mpesa);
        }

        .visa-icon {
            color: var(--visa);
        }

        .mastercard-icon {
            color: var(--mastercard);
        }

        .payment-form {
            background: var(--darker);
            border-radius: 10px;
            padding: 25px;
            margin-top: 20px;
        }

        .payment-form h4 {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* M-Pesa Simulation */
        .mpesa-simulation {
            background: var(--darker);
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            margin-top: 20px;
        }

        .mpesa-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            color: var(--mpesa);
        }

        .mpesa-prompt {
            background: white;
            color: black;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .mpesa-input {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 15px 0;
            font-size: 1rem;
        }

        .simulate-btn {
            background: var(--mpesa);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
        }

        /* Confirmation */
        .confirmation {
            text-align: center;
            padding: 60px 0;
            display: none;
        }

        .confirmation-icon {
            font-size: 5rem;
            color: var(--success);
            margin-bottom: 30px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .confirmation-details {
            background: var(--dark);
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            margin: 30px auto;
            text-align: left;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid var(--medium);
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        /* Footer */
        footer {
            background: var(--darker);
            padding: 60px 0 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 60px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            color: var(--primary);
            margin-bottom: 20px;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: var(--light);
            text-decoration: none;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--dark);
            color: var(--white);
            transition: all 0.3s;
        }

        .social-links a:hover {
            background: var(--primary);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--light);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .booking-container {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .payment-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="container">
        <div class="logo" onclick="navigateTo('home')">
            <i class="fas fa-hands-helping"></i>
            Serveo
        </div>
        <div class="nav-links">
            <a href="#" onclick="navigateTo('home')">Home</a>
            <a href="#">Services.html</a>
            <a href="#" class="active">Bookings</a>
            <a href="#">How It Works</a>
            <a href="#">Contact</a>
        </div>
        <div class="auth-buttons">
            <button class="btn btn-outline">Log In</button>
            <button class="btn btn-primary">Sign Up</button>
        </div>
    </nav>

    <!-- Booking Header -->
    <section class="booking-header container">
        <h1 class="section-title">Book Your Service</h1>
        <p>Complete your booking details and proceed to payment</p>
    </section>

    <!-- Booking Container -->
    <section class="container">
        <div class="booking-container">
            <!-- Booking Form -->
            <div class="booking-form">
                <div class="form-section">
                    <h3><i class="fas fa-tasks"></i> Service Details</h3>
                    <div class="form-group">
                        <label for="service-type">Service Type</label>
                        <select id="service-type" class="form-control" onchange="updateServiceDetails()">
                            <option value="cleaning">Home Cleaning</option>
                            <option value="painting">Painting & Decorating</option>
                            <option value="moving">Moving & Delivery</option>
                            <option value="repairs">Repairs & Assembly</option>
                            <option value="gardening">Gardening & Landscaping</option>
                            <option value="tech">Tech Services</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="service-date">Date & Time</label>
                        <div class="form-row">
                            <div class="form-group">
                                <input type="date" id="service-date" class="form-control" min="">
                            </div>
                            <div class="form-group">
                                <select id="service-time" class="form-control">
                                    <option value="9:00">9:00 AM</option>
                                    <option value="10:00">10:00 AM</option>
                                    <option value="11:00">11:00 AM</option>
                                    <option value="12:00">12:00 PM</option>
                                    <option value="13:00">1:00 PM</option>
                                    <option value="14:00">2:00 PM</option>
                                    <option value="15:00">3:00 PM</option>
                                    <option value="16:00">4:00 PM</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="duration">Estimated Duration</label>
                        <select id="duration" class="form-control" onchange="updatePricing()">
                            <option value="1">1 hour</option>
                            <option value="2">2 hours</option>
                            <option value="3">3 hours</option>
                            <option value="4">4 hours</option>
                            <option value="5">5+ hours</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3><i class="fas fa-map-marker-alt"></i> Location Details</h3>
                    <div class="form-group">
                        <label for="address">Address</label>
                        <input type="text" id="address" class="form-control" placeholder="Enter your full address">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="city">City</label>
                            <select id="city" class="form-control">
                                <option>Nairobi</option>
                                <option>Mombasa</option>
                                <option>Kisumu</option>
                                <option>Nakuru</option>
                                <option>Eldoret</option>
                                <option>Thika</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="postal-code">Postal Code</label>
                            <input type="text" id="postal-code" class="form-control" placeholder="Postal code">
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3><i class="fas fa-sticky-note"></i> Additional Information</h3>
                    <div class="form-group">
                        <label for="instructions">Special Instructions</label>
                        <textarea id="instructions" class="form-control" placeholder="Any special requests or details about the job?"></textarea>
                    </div>
                </div>

                <!-- Payment Section -->
                <div class="payment-section">
                    <h3><i class="fas fa-credit-card"></i> Payment Method</h3>
                    
                    <div class="payment-options">
                        <div class="payment-option selected" onclick="selectPayment('mpesa')">
                            <div class="payment-icon">
                                <i class="fab fa-mpesa mpesa-icon"></i>
                            </div>
                            <h4>M-Pesa</h4>
                            <p>Pay via M-Pesa mobile money</p>
                        </div>
                        <div class="payment-option" onclick="selectPayment('visa')">
                            <div class="payment-icon">
                                <i class="fab fa-cc-visa visa-icon"></i>
                            </div>
                            <h4>Visa</h4>
                            <p>Pay with Visa card</p>
                        </div>
                        <div class="payment-option" onclick="selectPayment('mastercard')">
                            <div class="payment-icon">
                                <i class="fab fa-cc-mastercard mastercard-icon"></i>
                            </div>
                            <h4>Mastercard</h4>
                            <p>Pay with Mastercard</p>
                        </div>
                    </div>
                    
                    <!-- M-Pesa Payment Form -->
                    <div id="mpesa-form" class="payment-form">
                        <h4><i class="fab fa-mpesa mpesa-icon"></i> M-Pesa Payment</h4>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" class="form-control" placeholder="e.g. 07XX XXX XXX" pattern="[0-9]{10}">
                        </div>
                        <button class="btn btn-primary" style="width: 100%;" onclick="processMpesaPayment()">Confirm Payment</button>
                    </div>
                    
                    <!-- Card Payment Form -->
                    <div id="card-form" class="payment-form" style="display: none;">
                        <h4><i class="fas fa-credit-card"></i> Card Payment</h4>
                        <div class="form-group">
                            <label for="card-number">Card Number</label>
                            <input type="text" id="card-number" class="form-control" placeholder="1234 5678 9012 3456">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expiry">Expiry Date</label>
                                <input type="text" id="expiry" class="form-control" placeholder="MM/YY">
                            </div>
                            <div class="form-group">
                                <label for="cvv">CVV</label>
                                <input type="text" id="cvv" class="form-control" placeholder="123">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="card-name">Name on Card</label>
                            <input type="text" id="card-name" class="form-control" placeholder="John Doe">
                        </div>
                        <button class="btn btn-primary" style="width: 100%;" onclick="processCardPayment()">Confirm Payment</button>
                    </div>

                    <!-- M-Pesa Simulation -->
                    <div id="mpesa-simulation" class="mpesa-simulation" style="display: none;">
                        <div class="mpesa-header">
                            <i class="fab fa-mpesa"></i>
                            <h4>M-Pesa Payment Simulation</h4>
                        </div>
                        <p>Enter your M-Pesa PIN to complete payment</p>
                        
                        <div class="mpesa-prompt">
                            <p><strong>Pay Bill</strong></p>
                            <p>Business No: 123456</p>
                            <p>Account No: SERVE001</p>
                            <p>Amount: <span id="sim-amount">KSh 0</span></p>
                            <p>Enter your M-Pesa PIN:</p>
                            <input type="password" class="mpesa-input" id="mpesa-pin" placeholder="M-Pesa PIN" maxlength="4">
                            <button class="simulate-btn" onclick="completeMpesaPayment()">Complete Payment</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Booking Summary -->
            <div class="booking-summary">
                <h3>Booking Summary</h3>
                
                <div class="worker-preview">
                    <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Sarah M." class="worker-preview-img">
                    <div>
                        <h4>Sarah M.</h4>
                        <p>Home Cleaning Professional</p>
                        <div style="color: var(--warning);">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <span>4.9 (87 reviews)</span>
                        </div>
                    </div>
                </div>
                
                <div class="summary-item">
                    <span>Service:</span>
                    <span id="summary-service">Home Cleaning</span>
                </div>
                <div class="summary-item">
                    <span>Date & Time:</span>
                    <span id="summary-datetime">Tomorrow, 10:00 AM</span>
                </div>
                <div class="summary-item">
                    <span>Duration:</span>
                    <span id="summary-duration">3 hours</span>
                </div>
                <div class="summary-item">
                    <span>Hourly rate:</span>
                    <span id="summary-rate">KSh 600</span>
                </div>
                <div class="summary-item">
                    <span>Service fee:</span>
                    <span id="summary-fee">KSh 180</span>
                </div>
                
                <div class="summary-total">
                    <span>Total:</span>
                    <span id="summary-total">KSh 1,980</span>
                </div>
                
                <div style="font-size: 0.9rem; color: var(--light); text-align: center; margin-top: 20px;">
                    <p>By proceeding, you agree to our <a href="#" style="color: var(--primary);">Terms of Service</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Confirmation Section -->
    <section class="confirmation container" id="confirmation">
        <div class="confirmation-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <h2 class="section-title">Booking Confirmed!</h2>
        <p>Your service provider will contact you shortly to confirm details.</p>
        
        <div class="confirmation-details">
            <div class="detail-row">
                <span>Booking Reference:</span>
                <span id="confirm-ref">#SERV2023589</span>
            </div>
            <div class="detail-row">
                <span>Service:</span>
                <span id="confirm-service">Home Cleaning</span>
            </div>
            <div class="detail-row">
                <span>Provider:</span>
                <span id="confirm-provider">Sarah M.</span>
            </div>
            <div class="detail-row">
                <span>Date & Time:</span>
                <span id="confirm-datetime">Tomorrow, 10:00 AM - 1:00 PM</span>
            </div>
            <div class="detail-row">
                <span>Total Paid:</span>
                <span id="confirm-total">KSh 1,980</span>
            </div>
        </div>
        
        <button class="btn btn-primary" onclick="navigateTo('home')">Return to Home</button>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Serveo</h3>
                    <p>Kenya's trusted marketplace for home services and skilled professionals.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="#">Cleaning</a></li>
                        <li><a href="#">Painting</a></li>
                        <li><a href="#">Moving</a></li>
                        <li><a href="#">Repairs</a></li>
                        <li><a href="#">Gardening</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Company</h3>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">How It Works</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">FAQs</a></li>
                        <li><a href="#">Safety Tips</a></li>
                        <li><a href="#">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Serveo. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Service data
        const services = {
            cleaning: {
                name: "Home Cleaning",
                worker: "Sarah M.",
                rate: 600,
                img: "https://randomuser.me/api/portraits/women/32.jpg"
            },
            painting: {
                name: "Painting & Decorating",
                worker: "John K.",
                rate: 800,
                img: "https://randomuser.me/api/portraits/men/54.jpg"
            },
            moving: {
                name: "Moving & Delivery",
                worker: "Mike T.",
                rate: 1200,
                img: "https://randomuser.me/api/portraits/men/67.jpg"
            },
            repairs: {
                name: "Repairs & Assembly",
                worker: "James O.",
                rate: 750,
                img: "https://randomuser.me/api/portraits/men/45.jpg"
            },
            gardening: {
                name: "Gardening & Landscaping",
                worker: "Grace W.",
                rate: 550,
                img: "https://randomuser.me/api/portraits/women/44.jpg"
            },
            tech: {
                name: "Tech Services",
                worker: "David L.",
                rate: 900,
                img: "https://randomuser.me/api/portraits/men/22.jpg"
            }
        };

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set minimum date to today
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            const formattedDate = tomorrow.toISOString().split('T')[0];
            document.getElementById('service-date').min = formattedDate;
            document.getElementById('service-date').value = formattedDate;
            
            // Initialize pricing
            updateServiceDetails();
            updatePricing();
        });

        // Update service details when service type changes
        function updateServiceDetails() {
            const serviceType = document.getElementById('service-type').value;
            const service = services[serviceType];
            
            // Update worker preview
            document.querySelector('.worker-preview-img').src = service.img;
            document.querySelector('.worker-preview h4').textContent = service.worker;
            document.querySelector('.worker-preview p').textContent = service.name + " Professional";
            
            // Update summary
            document.getElementById('summary-service').textContent = service.name;
            document.getElementById('confirm-service').textContent = service.name;
            document.getElementById('confirm-provider').textContent = service.worker;
            
            // Update pricing
            updatePricing();
        }

        // Update pricing based on duration
        function updatePricing() {
            const serviceType = document.getElementById('service-type').value;
            const duration = parseInt(document.getElementById('duration').value);
            const service = services[serviceType];
            
            const hourlyRate = service.rate;
            const subtotal = hourlyRate * duration;
            const serviceFee = Math.round(subtotal * 0.1); // 10% service fee
            const total = subtotal + serviceFee;
            
            // Update summary
            document.getElementById('summary-rate').textContent = `KSh ${hourlyRate}`;
            document.getElementById('summary-duration').textContent = `${duration} hour${duration > 1 ? 's' : ''}`;
            document.getElementById('summary-fee').textContent = `KSh ${serviceFee}`;
            document.getElementById('summary-total').textContent = `KSh ${total}`;
            
            // Update confirmation
            document.getElementById('confirm-total').textContent = `KSh ${total}`;
            
            // Update M-Pesa simulation
            document.getElementById('sim-amount').textContent = `KSh ${total}`;
            
            // Update date time summary
            updateDateTimeSummary();
        }

        // Update date time in summary
        function updateDateTimeSummary() {
            const dateInput = document.getElementById('service-date');
            const timeSelect = document.getElementById('service-time');
            
            const date = new Date(dateInput.value);
            const options = { weekday: 'long', month: 'long', day: 'numeric' };
            const formattedDate = date.toLocaleDateString('en-US', options);
            const time = timeSelect.options[timeSelect.selectedIndex].text;
            
            document.getElementById('summary-datetime').textContent = `${formattedDate}, ${time}`;
            
            // Calculate end time for confirmation
            const duration = parseInt(document.getElementById('duration').value);
            const startTime = timeSelect.value;
            const [hours, minutes] = startTime.split(':').map(Number);
            const endTime = new Date();
            endTime.setHours(hours + duration, minutes);
            const endTimeString = endTime.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
            
            document.getElementById('confirm-datetime').textContent = `${formattedDate}, ${time} - ${endTimeString}`;
        }

        // Payment selection
        function selectPayment(type) {
            // Remove selected class from all options
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            event.currentTarget.classList.add('selected');
            
            // Show the appropriate form
            if (type === 'mpesa') {
                document.getElementById('mpesa-form').style.display = 'block';
                document.getElementById('card-form').style.display = 'none';
                document.getElementById('mpesa-simulation').style.display = 'none';
            } else {
                document.getElementById('mpesa-form').style.display = 'none';
                document.getElementById('card-form').style.display = 'block';
                document.getElementById('mpesa-simulation').style.display = 'none';
            }
        }

        // Process M-Pesa payment
        function processMpesaPayment() {
            const phone = document.getElementById('phone').value;
            
            if (!phone || phone.length !== 10 || !phone.startsWith('07')) {
                alert('Please enter a valid Kenyan phone number (e.g., 07XX XXX XXX)');
                return;
            }
            
            // Show M-Pesa simulation
            document.getElementById('mpesa-form').style.display = 'none';
            document.getElementById('mpesa-simulation').style.display = 'block';
        }

        // Complete M-Pesa payment
        function completeMpesaPayment() {
            const pin = document.getElementById('mpesa-pin').value;
            
            if (!pin || pin.length !== 4) {
                alert('Please enter a valid 4-digit M-Pesa PIN');
                return;
            }
            
            // Simulate payment processing
            document.getElementById('mpesa-simulation').innerHTML = `
                <div class="mpesa-header">
                    <i class="fab fa-mpesa"></i>
                    <h4>Processing Payment</h4>
                </div>
                <p><i class="fas fa-spinner fa-spin"></i> Processing your payment...</p>
            `;
            
            setTimeout(() => {
                showConfirmation();
            }, 3000);
        }

        // Process card payment
        function processCardPayment() {
            const cardNumber = document.getElementById('card-number').value;
            const expiry = document.getElementById('expiry').value;
            const cvv = document.getElementById('cvv').value;
            const cardName = document.getElementById('card-name').value;
            
            if (!cardNumber || !expiry || !cvv || !cardName) {
                alert('Please fill in all card details');
                return;
            }
            
            // Simple validation
            if (!/^\d{16}$/.test(cardNumber.replace(/\s/g, ''))) {
                alert('Please enter a valid 16-digit card number');
                return;
            }
            
            if (!/^\d{2}\/\d{2}$/.test(expiry)) {
                alert('Please enter a valid expiry date (MM/YY)');
                return;
            }
            
            if (!/^\d{3,4}$/.test(cvv)) {
                alert('Please enter a valid CVV');
                return;
            }
            
            // Simulate payment processing
            document.getElementById('card-form').innerHTML = `
                <h4><i class="fas fa-credit-card"></i> Processing Payment</h4>
                <p><i class="fas fa-spinner fa-spin"></i> Processing your payment...</p>
            `;
            
            setTimeout(() => {
                showConfirmation();
            }, 3000);
        }

        // Show confirmation
        function showConfirmation() {
            // Generate random booking reference
            const ref = 'SERV' + Math.floor(100000 + Math.random() * 900000);
            document.getElementById('confirm-ref').textContent = '#' + ref;
            
            // Hide booking form and show confirmation
            document.querySelector('.booking-container').style.display = 'none';
            document.getElementById('confirmation').style.display = 'block';
        }

        // Navigation
        function navigateTo(page) {
            alert(`Navigating to ${page}. In a real application, this would change pages.`);
        }

        // Add event listeners for real-time updates
        document.getElementById('service-date').addEventListener('change', updateDateTimeSummary);
        document.getElementById('service-time').addEventListener('change', updateDateTimeSummary);
        document.getElementById('duration').addEventListener('change', updatePricing);
    </script>
</body>
</html>
